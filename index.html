<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projetos de Matemática - 9º Ano</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1><span class="material-symbols-outlined icon-header">school</span> Projetos de Matemática - 9º Ano <span class="material-symbols-outlined icon-header">calculate</span></h1>
    </header>

    <nav>
        <a href="index.html"><span class="material-symbols-outlined nav-icon">home</span> Início</a>
        <a href="#ideias"><span class="material-symbols-outlined nav-icon">emoji_objects</span> Ideias</a>
        <a href="roteiro.html"><span class="material-symbols-outlined nav-icon">rule</span> Roteiro</a>
        <a href="checklist.html"><span class="material-symbols-outlined nav-icon">task_alt</span> Checklist</a>
        <a href="jogo.html"><span class="material-symbols-outlined nav-icon">sports_esports</span> Jogo dos Cantos</a>
    </nav>

    <div class="container">
        <section id="introducao">
            <h2><span class="material-symbols-outlined section-icon">rocket_launch</span> Bem-vindo ao Portal de Projetos!</h2>
            <p>Explore ideias incríveis para projetos de matemática, utilize o roteiro e o checklist para organizar seu trabalho em equipe e descubra seu perfil de projeto com o Jogo dos Quatro Cantos!</p>
            <p>A matemática está em toda parte, e com estes projetos, você poderá aplicá-la de formas criativas e práticas, como um verdadeiro cientista maker!</p>
            <div class="hero-action">
                 <a href="jogo.html" class="button-quiz"><span class="material-symbols-outlined button-icon">quiz</span> Descubra seu Perfil! <span class="material-symbols-outlined button-icon">arrow_forward_ios</span></a>
            </div>
        </section>

        <section id="ideias">
            <h2><span class="material-symbols-outlined section-icon">emoji_objects</span> Ideias de Projetos <span class="material-symbols-outlined carousel-icon">slideshow</span></h2>
            <p class="intro-text">Navegue pelas 18 ideias de projetos que integram construções geométricas, ângulos, Teorema de Tales, proporcionalidade, Teorema de Pitágoras e razões trigonométricas. Use as setas ou os pontos para explorar!</p>

            <div class="carousel-container">
                <button class="carousel-button prev" id="carouselPrev" aria-label="Projeto Anterior">
                    <span class="material-symbols-outlined">arrow_back_ios</span>
                </button>
                <div class="carousel-slider-wrapper">
                    <div class="carousel-slider" id="carouselSlider">
                        <div class="project-card carousel-item">
                            <h4>1. A Arte Simétrica: Criando Mosaicos e Padrões Geométricos</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Construções com régua e compasso (polígonos regulares), ângulos, simetria (reflexão, rotação, translação), pavimentação do plano.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">palette</span> Interdisciplinaridade:</strong> Artes (Design, História da Arte), História (arte islâmica, romana), Cultura.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como os princípios geométricos são usados para criar padrões complexos e esteticamente agradáveis em diferentes culturas?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Desenhar e construir um painel de mosaico ou um padrão geométrico para estamparia.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>2. Mandalas Cósmicas: A Geometria da Harmonia</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Construções com régua e compasso, ângulos centrais e inscritos, simetria radial, circunferências, setores circulares.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">palette</span> Interdisciplinaridade:</strong> Artes (Desenho, Pintura), Filosofia (simbolismo, espiritualidade), Psicologia (arteterapia).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como a geometria é fundamental na criação de mandalas e qual o seu significado simbólico?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projetar e criar mandalas detalhadas, utilizando régua e compasso para a estrutura geométrica base.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>3. O Desafio da Altura: Medindo o Inacessível</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Teorema de Tales, semelhança de triângulos, proporcionalidade, razões trigonométricas (tangente), medição de ângulos.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">public</span> Interdisciplinaridade:</strong> Geografia (topografia), Física (instrumentação), Engenharia (medições).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como determinar a altura de estruturas elevadas sem medi-los diretamente?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Teodolito caseiro, medições de campo e cálculos.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>4. Mini-Arquitetos: Projetando Espaços</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Proporcionalidade, escalas, Teorema de Tales, áreas, perímetros, Teorema de Pitágoras.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">architecture</span> Interdisciplinaridade:</strong> Arquitetura, Artes, Geografia.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como projetar a planta baixa de um cômodo funcional respeitando escalas?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Plantas baixas em escala, maquete tridimensional.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>5. Rampas para Todos: Acessibilidade e Pitágoras</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Teorema de Pitágoras, razões trigonométricas, ângulos.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">accessible</span> Interdisciplinaridade:</strong> Cidadania, Engenharia Civil, Física.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como projetar uma rampa de acesso segura e que atenda às normas?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projeto técnico de uma rampa, protótipo em escala.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>6. Pontes de Macarrão: Estruturas e Forças</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Teorema de Pitágoras, ângulos, trigonometria (conceitual).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">engineering</span> Interdisciplinaridade:</strong> Física, Engenharia Civil.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como projetar e construir a ponte de macarrão mais eficiente?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Ponte de macarrão submetida a teste de carga.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>7. A Geometria Solar: Construindo um Relógio de Sol</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Ângulos, movimento aparente do Sol, trigonometria.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">wb_sunny</span> Interdisciplinaridade:</strong> Geografia, Astronomia, História.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como construir um relógio de sol preciso para a latitude local?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projetar, construir e calibrar um relógio de sol funcional.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>8. Navegadores Celestes: Orientação por Estrelas</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Ângulos, coordenadas (altura e azimute), trigonometria esférica (conceitual).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">explore</span> Interdisciplinaridade:</strong> Geografia, História, Astronomia.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como os antigos navegadores utilizavam os astros e a geometria para se orientar?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Construir um quadrante ou sextante simplificado, criar um "mapa do céu".</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>9. Design de Vitrais: Luz, Cor e Geometria</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Construções geométricas, ângulos, polígonos, simetria, proporcionalidade, setor circular, arco.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">palette</span> Interdisciplinaridade:</strong> Artes (História da Arte, Teoria das Cores), História (catedrais góticas), Física (óptica).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como criar um design de vitral que explore a beleza das formas geométricas e a interação da luz com as cores?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projetar um padrão de vitral em escala, criar uma simulação do vitral.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>10. A Proporção Áurea na Natureza e na Arte</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Proporcionalidade (razão áurea), sequência de Fibonacci, construções geométricas (retângulo áureo, espiral áurea), ângulos.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">eco</span> Interdisciplinaridade:</strong> Biologia (padrões de crescimento), Artes (Composição, História da Arte), Design.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Onde encontramos a Proporção Áurea e a Sequência de Fibonacci? Como aplicá-la?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Painel fotográfico/apresentação, projetar objeto ou composição artística utilizando a Proporção Áurea.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>11. Cartografia Criativa: Mapeando o Entorno</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Proporcionalidade (escalas), ângulos (azimute, rumo), medição de distâncias, Teorema de Pitágoras.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">map</span> Interdisciplinaridade:</strong> Geografia (leitura e produção de mapas), História (mapas antigos), Educação Física (orientação).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como criar um mapa detalhado e preciso de uma área específica (pátio da escola, quarteirão)?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Bússola caseira, clinômetro, levantamento topográfico simplificado, desenhar o mapa em escala.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>12. Geometria dos Esportes: Ângulos e Trajetórias</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Ângulos (lançamento, chute), Teorema de Pitágoras (distâncias em quadras), razões trigonométricas.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">sports_soccer</span> Interdisciplinaridade:</strong> Educação Física (análise de movimento, táticas), Física (cinemática, dinâmica).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como a geometria e a trigonometria podem ajudar a analisar e otimizar o desempenho em esportes?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Análise de vídeos ou simulações de jogadas, calculando ângulos ótimos, trajetórias, etc.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>13. Instrumentos Musicais: A Matemática das Notas</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Proporcionalidade (comprimento de cordas/tubos e frequências), Teorema de Pitágoras (distribuição de trastes - conceitual).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">music_note</span> Interdisciplinaridade:</strong> Música (teoria musical, harmonia), Física (acústica, ondas sonoras).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Qual é a relação matemática entre as dimensões de um instrumento musical e os sons que ele produz?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Construir um monocórdio, projetar/simular um instrumento simples (ex: flauta de pã).</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>14. Perspectiva Artística: Desenhando o 3D</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Teorema de Tales (base da projeção perspectiva), proporcionalidade, pontos de fuga, linhas convergentes, ângulos.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">draw</span> Interdisciplinaridade:</strong> Artes Visuais (Desenho, Pintura), História da Arte (Renascimento).</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como os artistas utilizam princípios geométricos para criar a ilusão de profundidade e volume?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Estudar e praticar técnicas de perspectiva, criar uma série de desenhos aplicando os princípios.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>15. Caleidoscópios Mágicos: Simetria e Reflexões</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Ângulos (30°, 45°, 60°), reflexão, simetria, construções geométricas.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">auto_awesome</span> Interdisciplinaridade:</strong> Física (óptica – reflexão da luz), Artes (padrões visuais), Design.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como os ângulos entre os espelhos em um caleidoscópio afetam os padrões visuais formados?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projetar e construir um caleidoscópio funcional, experimentar com diferentes ângulos.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>16. A Roda Gigante: Geometria e Movimento</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Circunferência, ângulos (centrais e de rotação), Teorema de Pitágoras, razões trigonométricas.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">ferris_wheel</span> Interdisciplinaridade:</strong> Física (movimento circular uniforme), Engenharia (estruturas e mecanismos), História.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como princípios geométricos e trigonométricos são aplicados no projeto e funcionamento de uma roda gigante?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projetar e construir um modelo em escala, calcular a altura de uma gôndola em diferentes ângulos.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>17. Labirintos Desafiadores: Lógica e Caminhos</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Ângulos, construções de paralelas e perpendiculares, Teorema de Pitágoras.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">extension</span> Interdisciplinaridade:</strong> Artes (Design Visual), Design de Jogos (Level Design), Raciocínio Lógico.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como projetar um labirinto que seja desafiador e esteticamente interessante, usando conceitos geométricos?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Desenhar um labirinto complexo, opcionalmente construir uma versão física pequena.</p>
                        </div>
                        <div class="project-card carousel-item">
                            <h4>18. Cidades Sustentáveis do Futuro: Geometria Urbana</h4>
                            <p><strong><span class="material-symbols-outlined card-icon">functions</span> Foco Matemático:</strong> Ângulos (otimização da luz solar), proporcionalidade (densidade, áreas verdes), Teorema de Pitágoras e trigonometria.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">location_city</span> Interdisciplinaridade:</strong> Geografia (Urbanismo, Sustentabilidade), Ciências (Energias Renováveis), Sociologia.</p>
                            <p><strong><span class="material-symbols-outlined card-icon">help_outline</span> Problema:</strong> Como a geometria pode ser utilizada para planejar bairros ou cidades mais sustentáveis?</p>
                            <p><strong><span class="material-symbols-outlined card-icon">build</span> Elemento Maker:</strong> Projeto conceitual (desenhos, modelo 3D, maquete) de um bairro sustentável.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-button next" id="carouselNext" aria-label="Próximo Projeto">
                    <span class="material-symbols-outlined">arrow_forward_ios</span>
                </button>
            </div>
            <div class="carousel-dots" id="carouselDots">
                </div>
        </section>
    </div>

    <footer>
        <p>&copy; <span id="currentYear"></span> Projetos de Matemática Criativa. <span class="material-symbols-outlined footer-icon">gamepad</span> Fonte: Press Start 2P.</p>
    </footer>

    <script>
        document.getElementById("currentYear").textContent = new Date().getFullYear();

        // Script para navegação suave de âncoras internas (opcional, mas bom para UX)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Script do Carrossel
        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('carouselSlider');
            const prevButton = document.getElementById('carouselPrev');
            const nextButton = document.getElementById('carouselNext');
            const dotsContainer = document.getElementById('carouselDots');
            
            if (!slider) return;

            const items = Array.from(slider.children).filter(child => child.classList.contains('carousel-item'));
            
            if (!items.length) return;

            let itemsPerViewInitial = calculateItemsPerView();
            let totalItems = items.length;
            let itemWidth = getItemWidth(); // Largura do item + gap
            let currentSlideIndex = 0; // Índice do primeiro item do view atual

            function getItemWidth() {
                if (!items[0]) return 0;
                return items[0].offsetWidth + parseInt(getComputedStyle(slider).gap || 0);
            }

            function calculateItemsPerView() {
                const wrapper = document.querySelector('.carousel-slider-wrapper');
                if (!wrapper || !items[0]) return 1;
                const wrapperWidth = wrapper.offsetWidth;
                const singleItemWidth = getItemWidth();
                return Math.max(1, Math.floor(wrapperWidth / singleItemWidth));
            }
            
            function createDots() {
                dotsContainer.innerHTML = '';
                const numDots = Math.ceil(totalItems / itemsPerViewInitial);
                if (numDots <= 1) { // Não mostrar dots se tudo couber em uma view
                    dotsContainer.style.display = 'none';
                    return;
                }
                dotsContainer.style.display = 'block';

                for (let i = 0; i < numDots; i++) {
                    const dot = document.createElement('span');
                    dot.classList.add('carousel-dot');
                    dot.addEventListener('click', () => {
                        currentSlideIndex = i * itemsPerViewInitial;
                        currentSlideIndex = Math.min(currentSlideIndex, totalItems - itemsPerViewInitial);
                         if (currentSlideIndex < 0 && totalItems > 0) currentSlideIndex = 0;
                        updateCarousel();
                    });
                    dotsContainer.appendChild(dot);
                }
                 updateDotsStatus();
            }

            function updateDotsStatus() {
                const allDots = dotsContainer.querySelectorAll('.carousel-dot');
                if(!allDots.length) return;
                const activeDotIndex = Math.floor(currentSlideIndex / itemsPerViewInitial);
                allDots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === activeDotIndex);
                });
            }

            function updateCarouselControls() {
                 prevButton.disabled = currentSlideIndex === 0;
                 // Se o final do slider (currentSlideIndex * itemWidth + itemsPerView * itemWidth)
                 // for maior ou igual ao scrollWidth total do slider, então estamos no fim.
                 // Ou mais simples: se o índice do próximo slide a ser mostrado (currentSlideIndex + itemsPerViewInitial)
                 // for maior ou igual ao total de itens.
                 nextButton.disabled = currentSlideIndex >= totalItems - itemsPerViewInitial;
            }

            function updateCarousel() {
                itemWidth = getItemWidth(); // Recalcula se a largura do item mudou
                const newTransformValue = -currentSlideIndex * itemWidth;
                slider.style.transform = `translateX(${newTransformValue}px)`;
                updateCarouselControls();
                updateDotsStatus();
            }

            prevButton.addEventListener('click', () => {
                currentSlideIndex -= itemsPerViewInitial;
                if (currentSlideIndex < 0) currentSlideIndex = 0;
                updateCarousel();
            });

            nextButton.addEventListener('click', () => {
                currentSlideIndex += itemsPerViewInitial;
                 // Garante que não ultrapasse o limite
                if (currentSlideIndex > totalItems - itemsPerViewInitial) {
                    currentSlideIndex = totalItems - itemsPerViewInitial;
                }
                 if (currentSlideIndex < 0 && totalItems > 0) currentSlideIndex = 0; // Segurança
                updateCarousel();
            });
            
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    const oldItemsPerView = itemsPerViewInitial;
                    itemsPerViewInitial = calculateItemsPerView();
                    
                    // Se o número de itens por view mudou, recalcula o currentSlideIndex
                    // para tentar manter o mesmo "conjunto" de itens visível, se possível.
                    if (oldItemsPerView !== itemsPerViewInitial) {
                         // Tenta manter o item do meio da view anterior no meio da nova view
                        let previouslyVisibleMiddleItemIndex = Math.floor(currentSlideIndex + oldItemsPerView / 2);
                        currentSlideIndex = Math.max(0, Math.floor(previouslyVisibleMiddleItemIndex - itemsPerViewInitial / 2));
                    }

                    currentSlideIndex = Math.min(currentSlideIndex, totalItems - itemsPerViewInitial);
                    if (currentSlideIndex < 0 && totalItems > 0) currentSlideIndex = 0;

                    createDots(); 
                    updateCarousel();
                }, 250);
            });

            // Inicialização
            if (items.length > 0) {
                itemsPerViewInitial = calculateItemsPerView();
                itemWidth = getItemWidth();
                createDots();
                updateCarousel(); // Chama para definir estado inicial dos botões e dots
            } else { // Esconde controles se não houver itens
                if(prevButton) prevButton.style.display = 'none';
                if(nextButton) nextButton.style.display = 'none';
                if(dotsContainer) dotsContainer.style.display = 'none';
            }
        });
    </script>
</body>
</html>